<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Редактирование - Новости</title>
</head>
<body>
    <div class="container">
        <div th:fragment="news" role="main" class="col-sm-10 pt-3">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
                <h1 class="h2">Новости</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <div class="btn-group mr-2">
                        <a th:href="@{'/editor/news/add'}"><button class="btn btn-sm btn-outline-secondary">Добавить новость</button></a>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center">
                <ul class="pagination">
                    <li th:class="${page.firstPage}?'page-item disabled':'page-item'">
                        <span class="page-link" th:if='${page.firstPage}'>←</span>
                        <a class="page-link" th:if='${not page.firstPage}' th:href='@{${page.url}(page=0,size=${page.size})}'>←</a>
                    </li>
                    <li th:class="${page.hasPreviousPage}? 'page-item' : 'page-item disabled'">
                        <span class="page-link" th:if='${not page.hasPreviousPage}'>«</span>
                        <a class="page-link" th:if='${page.hasPreviousPage}' th:href='@{${page.url}(page=${page.number-2},size=${page.size})}'>«</a>
                    </li>


                    <li th:each='item : ${page.items}' th:class="${item.active}? 'page-item active' : 'page-item'">
                        <span class="page-link" th:if='${item.active}' th:text='${item.number}'>1</span>
                        <a class="page-link" th:if='${not item.active}' th:href='@{${page.url}(page=${item.number-1},size=${page.size})}'>
                            <span th:text='${item.number}'>1</span>
                        </a>
                    </li>


                    <li th:class="${page.hasNextPage}? 'page-item' : 'page-item disabled'">
                        <span class="page-link" th:if='${not page.hasNextPage}'>»</span>
                        <a class="page-link" th:if='${page.hasNextPage}' th:href='@{${page.url}(page=${page.number},size=${page.size})}'>»</a>
                    </li>
                    <li th:class="${page.lastPage}? 'page-item disabled' : 'page-item'">
                        <span class="page-link" th:if='${page.lastPage}'>→</span>
                        <a class="page-link" th:if='${not page.lastPage}' th:href='@{${page.url}(page=${page.totalPages - 1},size=${page.size})}'>→</a>
                    </li>
                </ul>
            </div>


            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Название</th>
                        <th>Содержание</th>
                        <th>Дата</th>
                        <th>Время</th>
                        <th>Изображение</th>
                        <th>Функции</th>
                    </tr>
                </thead>
                <tr th:each="news_item : ${news}">
                    <td th:text="${news_item.title}"></td>
                    <td th:text="${news_item.content}"></td>
                    <td th:text="${news_item.date}"></td>
                    <td th:text="${news_item.time}"></td>
                    <td>
                        <img width="100px" th:src="@{'~/' + ${news_images_dir} + '/' + ${news_item.imageName}}"/>
                    </td>
                    <td>
                        <a th:href="@{'/editor/news/{id}/edit'(id=${news_item.id})}" class="edit">
                            Редактировать
                        </a> |
                        <a th:href="@{'/editor/news/{id}/delete'(id=${news_item.id})}" class="delete">
                            Удалить
                        </a>
                    </td>
                </tr>
            </table>


        </div>
</div>
</body>
</html>